# [Item21] 인터페이스는 구현하는 쪽을 생각해 설계하라
<details open>
    <summary><b>Index</b></summary>
<div markdown="1">

- [default 메서드 기능의 문제](#default-메서드의-문제록)


</div>
</details>

<br/>

---
#### 🌟 핵심 🌟
```text
* 디폴트 메서드 기능이 있더라도 인터페이스를 설계할 때는 세심한 주의를 기울이자.
  - 인터페이스는 가능한 구현하는 쪽을 생각해 설계하라
  
* 릴리즈 이후의 인터페이스 결함 수정 가능 여부는 미지수이다. 절대 그 가능성에 기대지 마라.
```

<br/>

---
Java8 부터 `default` 메서드가 생긴 이후,
물론 많은 프로그래머들의 수고를 덜어주며 다양한 이점을 제공한 것은 사실이나
분명히 단점도 존재한다.

## `default` 메서드의 문제
### 기존 구현체들과의 연동성
Java에도 "`default` 메서드"라는<br/>
기존 인터페이스에 메서드를 추가하는 방법이 생겼지만

**_"모든 기존 구현체들과 매끄럽게 연동되리라는 보장이 없다."_**<br/>
(그저 구현 클래스에 대해 아무것도 모른 채 합의 없이 무작정 `삽입`되는 것일 뿐)

물론 생각할 수 있는 모든 상황에서 <u>불변식을 해치지 않는 디폴트 메서드를 작성</u>하기 어려운건 사실이다.

> _자바 플랫폼 라이브러리에서도 해당 문제 예방을 위해 취한 일련의 조치가 있다._
- 구현한 인터페이스의 "**디폴트 메서드 <u>재정의</u>**"
- 디폴트 메서드 **<u>호출 전에 필요한</u> 작업 수행**

<br/>

하지만 이럼에도 일부는 여전히 수정되기가 어려운 상태이다.

또한,<br/>
디폴트 메서드가 운 좋게 <u>컴파일에 성공하더라도</u><br/>
기존 구현체에 언제 어디서든 불시에 **런타임 오류**를 일으킬 수 있다.

<br/>

즉, 결론은<br/>
디폴트 메서드 기능이 있고 작업 효율측면에서 이점이 있더라도<br/>
인터페이스를 <u>설계할 때는 **세심한 주의**를 기울여야 한다</u>는 것이다.<br/>
( 인터페이스는 '가능한' <u>**구현**하는 쪽</u>을 생각해 설계하라 )