# [Item20] 추상 클래스보다는 인터페이스를 우선하라
<details open>
    <summary><b>Index</b></summary>
<div markdown="1">

- [다중 구현](#다중-구현)
  - [인터페이스 장점](#인터페이스-장점)
- [템플릿 메서드 패턴 (Feat. 골격 구현 클래스)](#템플릿-메서드-패턴--feat-골격-구현-클래스-)
  - [템플릿 메서드 패턴](#템플릿-메서드-패턴--template-method-)
  - [골격 구현 클래스](#골격-구현-클래스)

</div>
</details>

<br/>

---
#### 🌟 핵심 🌟
```text
* 〚 다중 구현 〛용 타입 : " 인터페이스 "가 적합

* 복잡한 인터페이스라면 골격 구현을 함께 제공해주자.
  - [골격 구현]은 '가능한 한' "default 메서드"로
  - 인터페이스 → "구현 상의 제약" 때문에 "추상 클래스"로 골격 구현을제공하는 경우도 흔함
```

<br/>

---
## 다중 구현
1. **인터페이스**
   - 디폴트 메서드(Default Method) → <u>인스턴스 메서드</u>를 **구현**형태로 제공 가능
   - 선언한 메서드 모두 정의 & 일반 규칙 준수하는 클래스 → 서로 어떤 클래스를 상속했든 같은 타입으로 취급
2. **추상 클래스**
   - Java : 단일 상속 원칙
     - 추상 클래스 정의 타입을 구현하는 클래스 → 무조건 <u>추상 클래스의 **하위 클래스**</u>
     - 새로운 타입 정의에 큰 제약

<br/>

### 인터페이스 장점
- 기존 클래스에도 손쉽게 새로운 인터페이스 추가 구현 가능
  - `추상 클래스` :  기존 클래스 위에 새로운 추상 클래스 끼워넣기 어려움
    - 같은 추상 클래스 확장 → 해당 추상 클래스는 계층 구조상 <u>확장하려는 클래스들의 **공통 조상**</u>이어야 함.

<br/>

- "`믹스인(mix-in)` 타입 정의" 에 안성맞춤
  > ⁜ `믹스인(mix-in)` : 대상 타입의 주된 기능에 선택정 기능을 혼합하는 방식
  - `추상 클래스` :  기존 클래스 위에 새로운 추상 클래스 끼워넣기 어려움<br/>
    → _믹스인(mix-in) 정의 불가_

<br/>

- <u>계층 구조가 없는</u> **타입 프레임워크** 구현 가능
  - 여러가지 타입을 표현하는 인터페이스들을 모두 구현해도 문제 ❌
    - `클래스`를 통해 같은 구조 구현 → 가능한 조합 전부를 각각의 클래스로 정의<br/>
      → 고도비만 계층구조 = `조합 폭발(Combinatorial Explosion)`

<br/>

- [래퍼 클래스 활용](../item_18)과 함께 사용하면 **기능 향상** 및 **안전성 제고** 수단
  - `추상 클래스` 타입 정의 : 기능 추가 방법은 `상속`뿐 → _래퍼 클래스보다 **활용도** ⬇ & **붕괴** 가능성 ⬆_

<br/>

---
## 템플릿 메서드 패턴 (Feat. 골격 구현 클래스)

- 인터페이스 `default` 메서드 → 프로그래머 일감 절감 가능<br/>
  - 〚 **제약 1** 〛 : `equals`, `hashCode` 등과 같은 `Object` 메서드를 `default` 메서드로 제공 ❌
    - <u>본 인터페이스 & 하위 인터페이스</u>에서 **골격 구현 활용 불가능**<br/><br/>
  - 〚 **제약 2** 〛 : 인스턴스 필드 ❌ & `public`이 아닌 **정적 멤버** ❌<br/>
    (_`private` 정적 메서드 제외_ )
  
<br/>

### 템플릿 메서드 패턴( TEMPLATE METHOD )
⁜ `인터페이스` + `추상 골격 구현 클래스`(_Skeletal Implementation_) 제공
- `인터페이스` : 타입 정의 & `default` 메서드(필요한 경우)
- `추상 골격 구현 클래스` : 나머지 메서드

→ 단순 "**골격 구현 확장**"만으로 해당 <u>인터페이스 구현에 필요한 작업</u> **대부분 완료**

<br/>

### 골격 구현 클래스
- (_Like 추상 클래스_) **구현** 보조<br/><br/>
- `추상 클래스 타입 정의` 시 발생하는 <u>제약에서 자유로움</u><br/><br/>
- 만약 `골격 구현이 불가능한 상황`이더라도 <br/>
  단순히 인터페이스를 직접 구현하면 되고 `default` 메서드 활용도 가능하기 때문에 큰 어려움이 없다.
  - _추상 클래스는 불가능_<br/><br/>
- 우회적 사용도 가능 :: `다중 상속 (Simulated Multiple Inheritance)`
  - <u>**인터페이스 구현** 클래스</u>에<br/>
    해당 <u>**골격 구현 확장** `private` **내부 클래스**</u> 정의
  - [래퍼 클래스 활용](../item_18) 방식과 유사

#### ⁜ 단순 구현 (Simple Implementation)
> _골격 구현의 작은 변종_

골격 구현과 마찬가지로 "**상속**"을 위해 인터페이스를 구현한 것이지만<br/>
<u>**추상 클래스**가 아니란 점</u>이 다르다.
- 그대로 사용 ⭕️ & 확장 ⭕️